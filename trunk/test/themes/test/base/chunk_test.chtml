{!-- chunk_test.html contains snippets for use in the test suite --}

{^include #layer_test}

{!---------------------------------------------}
{#looptest_simple_block_loop}
{^loop data="~widgets"}
 {~widget_id} {~widget_name}<br/>
{/loop}
{#}

{!---------------------------------------------}
{#looptest_less_simple_block_loop}
{^loop data="~widgets"}
 {~widget_id} {~widget_name}<br/>
{^divider}
 <hr/>
{^onEmpty}
 <i>No widgets!</i>
{/loop}
{#}

{!---------------------------------------------}
{#looptest_ez_syntax}
{^loop in ~widgets}
 {~widget_id} {~widget_name}<br/>
{^divider}
 <hr/>
{^onEmpty}
 <i>No widgets!</i>
{/loop}
{#}

{!---------------------------------------------}
{#looptest_simple_loop_noblock}
{^loop data="~widgets" template="#widget_row" nodata="#no_widgets" divider="<hr/>"}
{#}

{!---------------------------------------------}
{#widget_row}
{~widget_id} {~widget_name}<br/>
{#}

{!---------------------------------------------}
{#no_widgets}
<i>No widgets!</i>
{#}

{!---------------------------------------------}
{#looptest_simple_loop_noblock_delim_tpl}
{^loop data="~widgets" template="#widget_row" nodata="#no_widgets" divider="#delim"}
{#}

{!---------------------------------------------}
{#delim}
<hr/>
{#}

{!---------------------------------------------}
{#looptest_simple_loop_noblock_bad_delim_tpl}
{^loop data="~widgets" template="#widget_row" nodata="#no_widgets" divider="#not_exist"}
{#}

{!---------------------------------------------}
{#looptest_nested_loops}
 {^loop data="~widgets"}
{~widget_name}
  {^loop data="~wodgets"}
 {~wodget_name}{~wodget_name|sel(~widget_name, *)}
  {^divider}
 --
  {/loop}
 {^divider}
==
 {/loop}
{#}


{!---------------------------------------------}
{#looptest_nested_loops_ez_syntax}
 {^loop in ~widgets as w}{!-- outer loop --}
{!-- can access table data via numbered array index ~w[0] ~w[1]
     and/or object-style ~w.property_name --}
{~w[0]}:{~w.widget_name}
  {^loop in ~widgets as x}{!-- inner loop over same table --}
 {~x.widget_name}{~x.widget_name|sel(~w.widget_name, *)}
  {^divider}
 --
  {/loop}
 {^divider}
==
 {/loop}
{#}


{!---------------------------------------------}
{#if_regex_inside_loop}
{~program_code}
{^loop in ~widgets as x}
  {^if (~program_code =~ /ATD/)}
{!-- nothing! --}
  {^elseIf (~x.is_toaster)}
TOASTER!
  {^else}
NOT A TOASTER
  {/if}
{/loop}
{#}


{!---------------------------------------------}
{#layer_test}
Base Layer
{#}

{!---------------------------------------------}
{!-- contains unterminated literal, make sure
     this is the last snippet in the file!
  --}
{#uncapped_literal}
Scooby Doo says {~go:ruff ruff}!
{^literal}
{#}